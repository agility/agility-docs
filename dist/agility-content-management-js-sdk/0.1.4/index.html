<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Home - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <li class="nav-link nav-home-link"><a href="index.html">Home</a></li><li class="nav-heading">Namespaces</li><li class="nav-heading"><span class="nav-item-type type-namespace">N</span><span class="nav-item-name"><a href="AgilityManagement.html">AgilityManagement</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="AgilityManagement.html#.getApi">getApi</a></span></li><li class="nav-heading"><span class="nav-item-type type-namespace">N</span><span class="nav-item-name"><a href="AgilityManagement.Client.html">Client</a></span></li><li class="nav-heading"><span class="nav-item-type type-namespace">N</span><span class="nav-item-name"><a href="AgilityManagement.Client.Content.html">Content</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="AgilityManagement.Client.Content.html#.approveContent">approveContent</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="AgilityManagement.Client.Content.html#.declineContent">declineContent</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="AgilityManagement.Client.Content.html#.deleteContent">deleteContent</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="AgilityManagement.Client.Content.html#.publishContent">publishContent</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="AgilityManagement.Client.Content.html#.requestApproval">requestApproval</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="AgilityManagement.Client.Content.html#.saveContentItem">saveContentItem</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="AgilityManagement.Client.Content.html#.unpublishContent">unpublishContent</a></span></li><li class="nav-heading"><span class="nav-item-type type-namespace">N</span><span class="nav-item-name"><a href="AgilityManagement.Client.Media.html">Media</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="AgilityManagement.Client.Media.html#.getMediaID">getMediaID</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="AgilityManagement.Client.Media.html#.uploadMedia">uploadMedia</a></span></li><li class="nav-heading"><span class="nav-item-type type-namespace">N</span><span class="nav-item-name"><a href="AgilityManagement.Client.Pages.html">Pages</a></span></li><li class="nav-heading"><span class="nav-item-type type-namespace">N</span><span class="nav-item-name"><a href="AgilityManagement.Types.html">Types</a></span></li>
</nav>

<div id="main">
    

    



    









    


    <section class="readme">
        <article><h1>Agility Content Management JS SDK</h1>
<p>This is the official JavaScript library for inserting, updating, managing and importing content, pages and media in your <a href="https://agilitycms.com">Agility CMS</a> instance.</p>
<p>Don't have an Agility CMS instance? Sign up for <a href="https://account.agilitycms.com/sign-up?product=agility-free">Free (forever)</a> today!</p>
<h2>Features</h2>
<p>Programmatically manage content via JavaScript API client</p>
<table>
<thead>
<tr>
<th>Agility Instance Management</th>
<th>Content Management</th>
<th>Media Management</th>
</tr>
</thead>
<tbody>
<tr>
<td>Get API</td>
<td>Approve Content</td>
<td>Get Media</td>
</tr>
<tr>
<td></td>
<td>Decline Content</td>
<td>Upload Media</td>
</tr>
<tr>
<td></td>
<td>Delete Content</td>
<td></td>
</tr>
<tr>
<td></td>
<td>Publish Content</td>
<td></td>
</tr>
<tr>
<td></td>
<td>Request Approval</td>
<td></td>
</tr>
<tr>
<td></td>
<td>Save Content Item</td>
<td></td>
</tr>
<tr>
<td></td>
<td>Unpublish Content</td>
<td></td>
</tr>
</tbody>
</table>
<h2>Getting Started</h2>
<h3>Installation</h3>
<p>Install it using <strong>npm</strong> (recommended):</p>
<pre class="prettyprint source"><code>npm install @agility/content-management
</code></pre>
<h2>Making a Request</h2>
<h3>Create an instance of API client for Agility Content Management REST API</h3>
<h4>Get API</h4>
<pre class="prettyprint source lang-javascript"><code>import agilityMgmt from '@agility/content-management'

const mgmtApi = agilityMgmt.getApi({
  location: 'USA',
  websiteName: 'MyWebsiteName',
  securityKey: 'xyz123'
});

</code></pre>
<h3>Content Management</h3>
<h4>Approve Content</h4>
<pre class="prettyprint source lang-javascript"><code>//Set the contentID and language code of content you want to approve
let contentID = contentIDToWorkOn;
let languageCode = &quot;en-us&quot;;

api.approveContent({
 contentID,
 languageCode
})
.then(function(contentID) {
 //check contentID is greater > 0 for success
})
.catch(function(error) {
 //handle error
});
</code></pre>
<h4>Decline Content</h4>
<pre class="prettyprint source lang-javascript"><code>//Set the contentID and language code of content you want to decline
let contentID = contentIDToWorkOn;
let languageCode = &quot;en-us&quot;;

api.declineContent({
 contentID,
 languageCode
})
.then(function(contentID) {
 //check contentID is greater > 0 for success
})
.catch(function(error) {
 //handle error
});
</code></pre>
<h4>Delete Content</h4>
<pre class="prettyprint source lang-javascript"><code>//Set the contentID and language code of content you want to delete
let contentID = contentIDToWorkOn;
let languageCode = &quot;en-us&quot;;

api.deleteContent({
 contentID,
 languageCode
})
.then(function(contentID) {
 //check contentID is greater > 0 for success
})
.catch(function(error) {
 //handle error
});
</code></pre>
<h4>Publish Content</h4>
<pre class="prettyprint source lang-javascript"><code>//Set the contentID and language code of content you want to publish
let contentID = contentIDToWorkOn;
let languageCode = &quot;en-us&quot;;

api.publishContent({
 contentID,
 languageCode
})
.then(function(contentID) {
 //check contentID is greater > 0 for success
})
.catch(function(error) {
 //handle error
});
</code></pre>
<h4>Request Approval</h4>
<pre class="prettyprint source lang-javascript"><code>//Set the contentID and language code of content you want to request for approval
let contentID = contentIDToWorkOn;
let languageCode = &quot;en-us&quot;;

api.requestApproval({
 contentID,
 languageCode
})
.then(function(contentID) {
 //check contentID is greater > 0 for success
})
.catch(function(error) {
 //handle error
});
</code></pre>
<h4>Save Content Item</h4>
<pre class="prettyprint source lang-javascript"><code>//Set the contentItem structure
//Important: The fields are not camel case - make sure the field names match EXACTLY with your content definition in Agility instance
//The example below shows how to structure your fields with simple types and nested objects
let contentItem = {
 contentID: -1,
 fields: {
  &quot;Title&quot;: &quot;Test Title&quot;,
  &quot;Image&quot;: {
   &quot;mediaID&quot;: 123,
   &quot;label&quot;: &quot;Test Image&quot;
  }
 }
}

//Set language code and reference name of content you want to save
let languageCode = &quot;en-us&quot;;
let referenceName = &quot;MyReferenceName&quot;;

api.saveContentItem({
 contentItem,
 languageCode,
 referenceName
})
.then(function(contentID) {
 //check contentID is greater > 0 for success
 //update contentID of saved item
 contentIDToWorkOn = contentID;
})
.catch(function(error) {
 //handle error
});
</code></pre>
<h4>Unpublish Content</h4>
<pre class="prettyprint source lang-javascript"><code>//Set the contentID and language code of content you want to unpublish
let contentID = contentIDToWorkOn;
let languageCode = &quot;en-us&quot;;

api.unpublishContent({
 contentID,
 languageCode
})
.then(function(contentID) {
 //check contentID is greater > 0 for success
})
.catch(function(error) {
 //handle error
});
</code></pre>
<h3>Media Management</h3>
<h4>Get Media</h4>
<pre class="prettyprint source lang-javascript"><code>//Set the path to the media
//Important: The path is the file name in Agility Media you need to access
let path = &quot;test.png&quot;

api.getMediaID({
 path
})
.then(function(mediaObj) {
 //check if media is not null/empty and has valid url for success
})
.catch(function(error) {
 //handle error
});
</code></pre>
<h4>Upload Media</h4>
<pre class="prettyprint source lang-javascript"><code>//Create media stream, save blob variable and set filename
let blob = fs.createReadStream('./test/sample/logo.png')
let filename = `test-${new Date().toISOString().replace(/\./g, &quot;&quot;).replace(/:/g, &quot;&quot;)}.png`;

api.uploadMedia({
 fileName: filename,
 fileContent: blob
})
.then(function(mediaObj) {
 //check if media is not null/empty and has valid url for success
})
.catch(function(error) {
 //handle error
});
</code></pre>
<h2>Documentation</h2>
<p>Full documentation for this SDK can be found in our <a href="https://agilitydocs.netlify.app/agility-content-management-js-sdk">Agility Management JS SDK Reference Doc</a></p>
<p>For docs &amp; help around Agility CMS, please see <a href="https://help.agilitycms.com/hc/en-us">Agility CMS Documentation</a></p>
<h3>Tutorials</h3>
<p><a href="https://help.agilitycms.com/hc/en-us/articles/360042919711">Calling the Content Management API using the JavaScript SDK</a></p>
<h2>Contributing</h2>
<p>If you would like to contribute to this SDK, you can fork the repository and submit a pull request. We'd love to include your updates.</p>
<h3>Running the Tests</h3>
<p>An essential part of contributing to this SDK is adding and running unit tests to ensure the stability of the project.</p>
<pre class="prettyprint source"><code>> npm run test
</code></pre></article>
    </section>






</div>

<br class="clear">

<footer>
    Generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.4</a> on Wed May 20 2020 18:15:17 GMT+0000 (Coordinated Universal Time) using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>